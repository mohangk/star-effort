<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>â­ Star Effort Chart ğŸš€</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>ğŸš€ STAR EFFORT CHART â­</h1>
            <p class="subtitle">Track your amazing efforts and earn Star Dollars!</p>
            <div class="header-buttons">
                <a href="add-task.html" class="add-task-btn">
                    ğŸŒŸ Complete Mission ğŸŒŸ
                </a>
                <a href="manage-missions.html" class="manage-missions-btn">
                    ğŸš€ Mission Control ğŸš€
                </a>
            </div>
        </header>

        <main class="main-content">
            <!-- ASHA's Task List -->
            <section class="child-section">
                <div class="child-header">
                    <h2>ğŸ‘©â€ğŸš€ ASHA's Space Missions</h2>
                    <div class="star-total">
                        Total Star Dollars: <span id="asha-total">0</span> â­
                    </div>
                </div>
                <div class="task-list">
                    <!-- Loading state -->
                    <div id="asha-loading" class="loading-state">
                        <div class="loading-spinner"></div>
                        <p>ğŸš€ Loading space missions...</p>
                    </div>
                    
                    <table id="asha-tasks" style="display: none;">
                        <thead>
                            <tr>
                                <th>ğŸ—“ï¸ Date</th>
                                <th>ğŸš€ Mission Description</th>
                                <th>â­ Star Dollars</th>
                                <th>ğŸš€ Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Tasks will be populated by JavaScript -->
                        </tbody>
                    </table>
                    <div id="asha-no-tasks" class="no-tasks" style="display: none;">
                        ğŸŒŒ No space missions completed yet! Ready to start exploring? ğŸ›¸
                    </div>
                </div>
            </section>

            <!-- EKAA's Task List -->
            <section class="child-section">
                <div class="child-header">
                    <h2>ğŸ‘¨â€ğŸš€ EKAA's Space Missions</h2>
                    <div class="star-total">
                        Total Star Dollars: <span id="ekaa-total">0</span> â­
                    </div>
                </div>
                <div class="task-list">
                    <!-- Loading state -->
                    <div id="ekaa-loading" class="loading-state">
                        <div class="loading-spinner"></div>
                        <p>ğŸ›¸ Loading space missions...</p>
                    </div>
                    
                    <table id="ekaa-tasks" style="display: none;">
                        <thead>
                            <tr>
                                <th>ğŸ—“ï¸ Date</th>
                                <th>ğŸš€ Mission Description</th>
                                <th>â­ Star Dollars</th>
                                <th>ğŸš€ Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Tasks will be populated by JavaScript -->
                        </tbody>
                    </table>
                    <div id="ekaa-no-tasks" class="no-tasks" style="display: none;">
                        ğŸŒŒ No space missions completed yet! Ready to start exploring? ğŸ›¸
                    </div>
                </div>
            </section>
        </main>

        <footer class="footer">
            <p>ğŸŒŸ Keep up the great work, space explorers! ğŸŒŸ</p>
        </footer>
    </div>

    <!-- Firebase SDKs -->
    <script type="module" src="firebase-setup.js"></script>
    <script src="script.js"></script>
    <script>
        // Initialize index page
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸ”§ DOM loaded on index page...');
            
            // Firebase should already be ready (script.js handles the firebase-ready event)
            if (window.isFirebaseReady) {
                console.log('âœ… Firebase ready, loading tasks...');
                displayAllTasks();
            } else {
                console.error('âŒ Firebase not ready - script.js should have handled this');
                alert('ğŸ”§ App initialization error. Please refresh the page.');
            }
        });
    </script>
</body>
</html>